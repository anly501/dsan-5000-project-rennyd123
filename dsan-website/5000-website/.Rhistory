install.packages("readxl")
library(readxl)
getwd()
setwd("/Users/reneedemaio/Desktop/git_repo/dsan-5000-project-rennyd123/dsan-website/5000-website")
setwd("~/Desktop")
setwd("/Users/reneedemaio/Desktop/git_repo/dsan-5000-project-rennyd123/dsan-website/5000-website")
file_path <- "data/raw/statistic_id1073041_us-sport-injury-emergency-department-visits-from-2010-2016-by-injury-and-gender.xlsx"
data <- read_excel(file_path)
file_path <- "../data/raw/statistic_id1073041_us-sport-injury-emergency-department-visits-from-2010-2016-by-injury-and-gender.xlsx"
data <- read_excel(file_path)
file_path <- "../../data/raw/statistic_id1073041_us-sport-injury-emergency-department-visits-from-2010-2016-by-injury-and-gender.xlsx"
data <- read_excel(file_path)
head(data)
getwd()
file_path <- "data/raw/statistic_id1073041_us-sport-injury-emergency-department-visits-from-2010-2016-by-injury-and-gender.xlsx"
data <- read_excel(file_path)
file_path <- "data/raw/statistic_id1073041_us-sport-injury-emergency-department-visits-from-2010-2016-by-injury-and-gender.xlsx"
data <- read_excel(file_path)
head(data)
library(rvest)
install.packages("rvest")
library(rvest)
url <- "https://www.iii.org/fact-statistic/facts-statistics-sports-injuries"
webpage <- read_html(url)
data <- webpage %>% html_table(fill = TRUE)
csv_filename <- "sports_injuries_data.csv"
write.csv(data[[1]], csv_filename, row.names = FALSE)
file_path <- "data/raw/sports_injuries_data.csv"
df <- read.csv(file_path)
head(df)
head(data)
head(ip_soccer)
ip_soccer <- read_excel(file_path)
head(ip_soccer)
install.packages("readxl")
getwd()
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
y
#install.packages("rvest")
library(rvest)
url <- "https://www.iii.org/fact-statistic/facts-statistics-sports-injuries"
webpage <- read_html(url)
data <- webpage %>% html_table(fill = TRUE)
csv_filename <- "sports_injuries_data.csv"
write.csv(data[[1]], csv_filename, row.names = FALSE)
file_path <- "data/raw/sports_injuries_data.csv"
si_data <- read.csv(file_path)
head(si_data)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
getwd()
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
tail(ip_soccer)
ip_soccer$`Previous Injuries (1=yes, 0=no)` <- ifelse(ip_soccer$`Previous Injuries (1=yes, 0=no)` == "1", "yes", "no")
head(ip_soccer$`Previous Injuries (1=yes, 0=no)`)
colnames(ip_soccer$`Previous Injuries (1=yes, 0=no)`) <- "Previous Injuries"
colnames(ip_soccer)[colnames(ip_soccer) == "Previous Injuries (1=yes, 0=no)"] <- "Previous Injuries"
head(ip_soccer)
ip_soccer$`Ankle Injuries (1= yes, 0=no)` <- ifelse(ip_soccer$`Ankle Injuries (1= yes, 0=no)` == "1", "yes", "no")
colnames(ip_soccer)[colnames(ip_soccer) == "Ankle Injuries (1= yes, 0=no)"] <- "Ankle Injuries"
ip_soccer$`Severe_Ankle_Injuries (1=yes, 0=no)` <- ifelse(ip_soccer$`Severe_Ankle_Injuries (1=yes, 0=no)` == "1", "yes", "no")
colnames(ip_soccer)[colnames(ip_soccer) == "Severe_Ankle_Injuries (1=yes, 0=no)"] <- "Severe Ankle Injuires"
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
tail(ip_soccer)
replace_values <- function(col) {
if (grepl("(1=yes, 0=no)", col)) {
col <- gsub("1", "yes", col)
col <- gsub("0", "no", col)
}
return(col)
}
ip_soccer[] <- lapply(names(ip_soccer), function(col_name) {
col <- ip_soccer[[col_name]]
col <- replace_values(col)
return(col)
})
replace_values <- function(col) {
if (grepl("(1=yes, 0=no)", col)) {
col <- ifelse(col == 1, "yes", ifelse(col == 0, "no", col))
}
return(col)
}
ip_soccer[] <- lapply(names(ip_soccer), function(col_name) {
col <- ip_soccer[[col_name]]
col <- replace_values(col)
return(col)
})
replace_values(ip_soccer)
for (col in ip_soccer) {
if "(1=yes, 0=no)" in (colname(ip_soccer)) {
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
tail(ip_soccer)
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
head(ip_soccer)
print(colnames(ip_soccer))
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\((1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 2=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
head(ip_soccer)
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1=yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1= yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(\\(1=yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1=yes, 2=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
colnames(ip_soccer)
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
tail(ip_soccer)
print(colnames(ip_soccer))
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 2=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
head(ip_soccer)
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1=yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1= yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(\\(1= yes, 0=no\\)", col_name) || grepl("\\(1= yes, 2=no\\)", col_name)) {
new_col_name <- gsub("\\(\\(1= yes, 0=no\\)|\\(1= yes, 2=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
colnames(ip_soccer)
library(readxl)
file_path <- "data/raw/Data_Injury_Prevention.xls"
ip_soccer <- read_excel(file_path)
head(ip_soccer)
tail(ip_soccer)
print(colnames(ip_soccer))
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(\\(1= yes, 0=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 2=no\\)", col_name)) {
ip_soccer[[col_name]] <- ifelse(ip_soccer[[col_name]] == 1, "yes", "no")
}
}
head(ip_soccer)
for (col_name in names(ip_soccer)) {
if (grepl("\\(1=yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1=yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(1= yes, 0=no\\)", col_name)) {
new_col_name <- gsub("\\(1= yes, 0=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
for (col_name in names(ip_soccer)) {
if (grepl("\\(\\(1=yes, 0=no\\)", col_name) || grepl("\\(1=yes, 2=no\\)", col_name)) {
new_col_name <- gsub("\\(\\(1= yes, 0=no\\)|\\(1=yes, 2=no\\)", "", col_name)
colnames(ip_soccer)[colnames(ip_soccer) == col_name] <- new_col_name
}
}
colnames(ip_soccer)
colnames(ip_soccer)[13] <- "Noncontact_Ankle_Injuries""
colnames(ip_soccer)[13] <- "Noncontact_Ankle_Injuries"
colnames(ip_soccer)[13] <- "Noncontact_Ankle_Injuries"
colnames(ip_soccer)
library(rvest)
url <- "https://www.iii.org/fact-statistic/facts-statistics-sports-injuries"
webpage <- read_html(url)
webpage <- read_html(url)
data <- webpage %>% html_table(fill = TRUE)
data <- webpage %>% html_table(fill = TRUE)
csv_filename <- "sports_injuries_data.csv"
write.csv(data[[1]], csv_filename, row.names = FALSE)
file_path <- "data/raw/sports_injuries_data.csv"
si_data <- read.csv(file_path)
getwd()
file_path <- "../dsan_website/5000-website/data/raw/sports_injuries_data.csv"
si_data <- read.csv(file_path)
csv_url <- "https://github.com/anly501/dsan-5000-project-rennyd123/blob/main/dsan-website/5000-website/data/raw/sports_injuries_data.csv"
si_data <- read.csv(csv_url)
head(si_data)
csv_url <- "https://github.com/anly501/dsan-5000-project-rennyd123/blob/main/dsan-website/5000-website/data/raw/sports_injuries_data.csv"
si_data <- read.csv(url(csv_url))
head(si_data)
csv_url <- "https://raw.github.com/anly501/dsan-5000-project-rennyd123/blob/main/dsan-website/5000-website/data/raw/sports_injuries_data.csv"
si_data <- read.csv(url(csv_url))
si_data <- read.csv(url(csv_url))
csv_url <- "https://raw.githubusercontent.com/anly501/dsan-5000-project-rennyd123/main/dsan-website/5000-website/data/raw/sports_injuries_data.csv"
si_data <- read.csv(url(csv_url))
head(si_data)
getwd()
url <- "https://www.iii.org/fact-statistic/facts-statistics-sports-injuries"
webpage <- read_html(url)
webpage <- read_html(url)
data <- webpage %>% html_table(fill = TRUE)
csv_filename <- "sports_injuries_data.csv"
write.csv(data[[1]], csv_filename, row.names = FALSE)
file_path <- "../../dsan_website/5000data/raw/sports_injuries_data.csv"
getwd()
si_data <- read.csv(file_path)
file_path <- "../../data/00-raw-data/sports_injuries_data.csv"
si_data <- read.csv(file_path)
head(si_data)
print(ip_soccer)
si_data <- si_data[-c(1:2, nrow(si_data)), ]
colnames(si_data) <- c("Sport, activity or equipment", "Injuries (1)", "Younger than 5", "5 to 14", "15 to 24", "25 to 64", "65 and older")
head(si_data)
si_data <- si_data[-1, ]
head(si_data)
tail(si_data)
head(si_data)
si_data <- si_data[, 1:7]
head(si_data)
getwd()
players <- read_csv("../../data/00-raw-data/players.csv")
library(readr)
install.packages(readr)
library(readr)
install.packages("readr")
library(readr)
getwd()
players <- read_csv("../../data/00-raw-data/players.csv")
head(playesr)
head(players)
players <- read_csv("../../data/00-raw-data/players.csv")
head(players)
ranking <- read_csv("../../data/00-raw-data/ranking.csv")
head(ranking)
games_details <- read_csv("../../data/00-raw-data/games_details.csv")
games_details <- read_csv("../../data/00-raw-data/games_details.csv")
head(games_details)
games <- read_csv("../../data/00-raw-data/games.csv")
head(games)
head(games_details)
head(games)
head(teams)
teams <- read_csv("../../data/00-raw-data/teams.csv")
head(teams)
write.csv(si_data, file = "sports_injury_data", row.names = FALSE)
write_csv(ip_soccer, file = "injury_prevention_data_soccer", row.names = FALSE)
write_csv(ip_soccer, file = "injury_prevention_data_soccer")
getwd()
file_path <- "../../data/01-modified-data/injury_prevention_data_soccer.csv"
write_csv(ip_soccer, file = file_path)
file_path <- "../../data/01-modified-data/sports_injury_data.csv"
write.csv(si_data, file = file_path, row.names = FALSE)
head(players)
head(teams)
players_teams <- full_join(players, teams, by = "TEAM_ID")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("tidyverse")
library(dplyr)
file_path
library(tidyverse)
library(tidyr)
file_path <- "data/raw/Data_Injury_Prevention.xls"
library(tidyr)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
head(ranking)
players_teams_rankings <- full_join(players_teams, ranking, by = c("TEAM_ID", "LEAGUE_ID"))
head(players_teams_rankings)
tail(players_teams_rankings)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
head(ranking)
colnames(ranking)
colname(players_teams)
colnames(players_teams)
players_teams_rankings <- full_join(players_teams, ranking, by = c("TEAM_ID", "LEAGUE_ID"))
tail(players_teams_rankings)
install.packages("readr")
library(readr)
getwd()
players <- read_csv("../../data/00-raw-data/players.csv")
head(players)
ranking <- read_csv("../../data/00-raw-data/ranking.csv")
head(ranking)
colnames(ranking)
games_details <- read_csv("../../data/00-raw-data/games_details.csv")
head(games_details)
games <- read_csv("../../data/00-raw-data/games.csv")
head(games)
teams <- read_csv("../../data/00-raw-data/teams.csv")
head(teams)
install.packages("readr")
knitr::opts_chunk$set(echo = TRUE)
players <- read_csv("../../data/00-raw-data/players.csv")
head(players)
library(dplyr)
library(tidyverse)
library(tidyr)
players <- read_csv("../../data/00-raw-data/players.csv")
head(players)
ranking <- read_csv("../../data/00-raw-data/ranking.csv")
head(ranking)
colnames(ranking)
games_details <- read_csv("../../data/00-raw-data/games_details.csv")
games_details <- read_csv("../../data/00-raw-data/games_details.csv")
head(games_details)
head(games_details)
games <- read_csv("../../data/00-raw-data/games.csv")
head(games)
teams <- read_csv("../../data/00-raw-data/teams.csv")
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
colnames(players_teams)
players_teams_rankings <- full_join(players_teams, ranking, by = c("TEAM_ID", "LEAGUE_ID"))
tail(players_teams_rankings)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
head(ranking)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
colnames(players_teams)
colnames(ranking)
colnames(players_teams)
colnames(teams)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
players_teams_rankings <- full_join(players_teams, ranking, by = c("TEAM_ID", "LEAGUE_ID"))
colnames(games)
colnames(players_teams)
colnames(ranking)
ranking_subset <- ranking[, 1:11]
players_teams_rankings <- full_join(players_teams, ranking_subset, by = c("TEAM_ID", "LEAGUE_ID"))
tail(players_teams_rankings)
head(players_teams)
head(ranking)
head(players_teams_rankings)
tail(players_teams_rankings)
head(players_teams_rankings)
players_teams_ranking <- na.omit(players_teams_rankings)
players_teams_rankings <- na.omit(players_teams_rankings)
head(players_teams_rankings)
tail(players_teams_rankings)
head(games_details)
head(games)
file_path <- "../../data/01-modified-data/nba_data.csv"
write.csv(players_teams_rankings, file = file_path)
head(players)
head(ranking)
players <- read_csv("../../data/00-raw-data/players.csv")
head(players)
ranking <- read_csv("../../data/00-raw-data/ranking.csv")
head(ranking)
colnames(ranking)
ranking_subset <- ranking[, 1:10]
teams <- read_csv("../../data/00-raw-data/teams.csv")
head(teams)
colnames(teams)
players_teams <- full_join(players, teams, by = "TEAM_ID")
head(players_teams)
colnames(players_teams)
players_teams_rankings <- full_join(players_teams, ranking_subset, by = c("TEAM_ID", "LEAGUE_ID"))
players_teams_rankings <- na.omit(players_teams_rankings)
file_path <- "../../data/01-modified-data/nba_data.csv"
write.csv(players_teams_rankings, file = file_path)
colnames(ranking)
head(ranking)
head(teams)
